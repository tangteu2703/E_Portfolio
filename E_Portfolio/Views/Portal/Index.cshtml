@{
    Layout = "~/Views/Shared/_Layout_Portal.cshtml";
    ViewData["Title"] = "E - Portal";
}
<div class="app-main flex-column flex-row-fluid" id="kt_app_main">
    <!--begin::Content wrapper-->
    <div class="d-flex flex-column flex-column-fluid">
        <!--begin::Toolbar-->
        <div id="kt_app_toolbar" class="app-toolbar">
            <!--begin::Toolbar container-->
            <div id="kt_app_toolbar_container" class="app-container container-fluid d-flex flex-stack flex-wrap">
                <!--begin::Toolbar wrapper-->
                <div class="d-flex flex-stack flex-wrap gap-4 w-100">
                    <!--begin::Page title-->
                    <div class="page-title d-flex flex-column gap-3 me-3">
                        <!--begin::Title-->
                        <h1 class="page-heading d-flex flex-column justify-content-center text-dark fw-bolder fs-2x my-0">Bảng tin</h1>
                        <!--end::Title-->
                    </div>
                    <!--end::Page title-->
                </div>
                <!--end::Toolbar wrapper-->
            </div>
            <!--end::Toolbar container-->
        </div>
        <!--end::Toolbar-->
        <!--begin::Content-->
        <div id="kt_app_content" class="app-content  flex-column-fluid ">
            <!--begin::Content container-->
            <div id="kt_app_content_container">
                <!--begin::Social - Feeds -->
                <div class="d-flex flex-row">
                    <!--begin::Content-->
                    <div class="w-100 flex-lg-row-fluid me-lg-13">
                        <div class="card card-flush mb-10">
                            <!--begin::Header-->
                            <div class="card-header justify-content-start align-items-center pt-4 pb-0">
                                <!--begin::Photo-->
                                <div class="symbol symbol-45px me-5">
                                    <img class="user_avatar" alt="Avatar" src="" />
                                </div>
                                <!--end::Photo-->
                                <a href="#" class="text-gray-500 fw-semibold fs-6 flex-grow-1" id="kt_social_feeds_post_trigger" data-bs-toggle="modal" data-bs-target="#kt_modal_create_post">
                                    Bạn đang nghĩ gì?
                                </a>
                            </div>
                            <!--end::Header-->
                            <!--begin::Body-->
                            <div class="card-body pt-4 pb-3">
                                <div class="separator separator-dashed border-gray-300 mb-4"></div>
                                <div class="d-flex justify-content-around">
                                    <a href="#" class="btn btn-flex btn-text-gray-600 btn-hover-light-primary flex-grow-1 me-2" data-bs-toggle="modal" data-bs-target="#kt_modal_create_post">
                                        <i class="ki-duotone ki-picture fs-2 text-danger me-2">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                        </i>
                                        <span class="fw-semibold">Ảnh/Video</span>
                                    </a>
                                    <a href="#" class="btn btn-flex btn-text-gray-600 btn-hover-light-success flex-grow-1 me-2" data-bs-toggle="modal" data-bs-target="#kt_modal_create_post">
                                        <i class="ki-duotone ki-happy fs-2 text-warning me-2">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                        </i>
                                        <span class="fw-semibold">Cảm xúc</span>
                                    </a>
                                    <a href="#" class="btn btn-flex btn-text-gray-600 btn-hover-light-info flex-grow-1" data-bs-toggle="modal" data-bs-target="#kt_modal_create_post">
                                        <i class="ki-duotone ki-geolocation fs-2 text-success me-2">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                        </i>
                                        <span class="fw-semibold">Check in</span>
                                    </a>
                                </div>
                            </div>
                            <!--end::Body-->
                        </div>
                        <!--begin::Posts-->
                        <div class="mb-10" id="kt_social_feeds_posts">
                            <!-- Posts will be dynamically loaded here by newsPortal.js -->
                            <div class="text-center py-10">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Đang tải...</span>
                                </div>
                            </div>
                        </div>
                        <!--end::Posts-->
                        <!--begin::Show more feeds-->
                        <div class="d-flex flex-center">
                            <a href="#" class="btn btn-primary fw-bold px-6" id="kt_social_feeds_more_posts_btn">

                                <!--begin::Indicator label-->
                                <span class="indicator-label">
                                    Show more
                                </span>
                                <!--end::Indicator label-->
                                <!--begin::Indicator progress-->
                                <span class="indicator-progress">
                                    Please wait...    <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                </span>
                                <!--end::Indicator progress-->
                            </a>
                        </div>
                        <!--end::Show more feeds-->
                    </div>
                    <!--end::Content-->
                    <!--begin::End sidebar-->
                    <div class="d-lg-flex flex-column flex-lg-row-auto w-lg-325px" data-kt-drawer="true" data-kt-drawer-name="end-sidebar" data-kt-drawer-activate="{default: true, lg: false}" data-kt-drawer-overlay="true" data-kt-drawer-width="{default:'200px', '250px': '300px'}" data-kt-drawer-direction="end" data-kt-drawer-toggle="#kt_social_end_sidebar_toggle" style="">

                        <!--begin::Birthdays Today-->
                        <div class="card mb-5">
                            <div class="card-body p-5">
                                <div class="d-flex align-items-center mb-5">
                                    <i class="ki-duotone ki-calendar-8 fs-2x text-primary me-3">
                                        <span class="path1"></span>
                                        <span class="path2"></span>
                                        <span class="path3"></span>
                                        <span class="path4"></span>
                                        <span class="path5"></span>
                                        <span class="path6"></span>
                                    </i>
                                    <div class="flex-grow-1">
                                        <h3 class="text-gray-900 fs-5 fw-bold mb-1">Sự kiện nổi bật</h3>
                                        <span class="text-muted fs-7">2 người bạn</span>
                                    </div>
                                </div>
                                <div class="separator separator-dashed mb-4"></div>
                                <div class="d-flex align-items-center mb-3">
                                    <div class="symbol symbol-35px me-3">
                                        <img src="/assetsCMS/media/avatars/300-1.jpg" alt="" />
                                    </div>
                                    <div class="flex-grow-1">
                                        <a href="#" class="text-gray-800 text-hover-primary fw-semibold fs-6">Nguyễn Văn A</a>
                                        <span class="text-muted d-block fs-7">🎂 Chúc mừng sinh nhật!</span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <div class="symbol symbol-35px me-3">
                                        <img src="/assetsCMS/media/avatars/300-2.jpg" alt="" />
                                    </div>
                                    <div class="flex-grow-1">
                                        <a href="#" class="text-gray-800 text-hover-primary fw-semibold fs-6">Trần Thị B</a>
                                        <span class="text-muted d-block fs-7">🎂 Chúc mừng sinh nhật!</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--end::Birthdays Today-->

                        <!--begin::Trending Topics-->
                        <div class="card mb-5">
                            <div class="card-body p-5">
                                <div class="d-flex align-items-center mb-5">
                                    <i class="ki-duotone ki-chart-simple fs-2x text-danger me-3">
                                        <span class="path1"></span>
                                        <span class="path2"></span>
                                        <span class="path3"></span>
                                        <span class="path4"></span>
                                    </i>
                                    <div class="flex-grow-1">
                                        <h3 class="text-gray-900 fs-5 fw-bold mb-0">Xu hướng</h3>
                                    </div>
                                </div>
                                <div class="separator separator-dashed mb-4"></div>
                                <div class="mb-4">
                                    <a href="#" class="text-gray-800 text-hover-primary fw-bold fs-6">#TeamBuilding2024</a>
                                    <span class="text-muted d-block fs-7">125 bài viết</span>
                                </div>
                                <div class="mb-4">
                                    <a href="#" class="text-gray-800 text-hover-primary fw-bold fs-6">#ProjectSuccess</a>
                                    <span class="text-muted d-block fs-7">98 bài viết</span>
                                </div>
                                <div class="mb-4">
                                    <a href="#" class="text-gray-800 text-hover-primary fw-bold fs-6">#InnovationDay</a>
                                    <span class="text-muted d-block fs-7">76 bài viết</span>
                                </div>
                                <div>
                                    <a href="#" class="text-gray-800 text-hover-primary fw-bold fs-6">#CompanyCulture</a>
                                    <span class="text-muted d-block fs-7">54 bài viết</span>
                                </div>
                            </div>
                        </div>
                        <!--end::Trending Topics-->

                        <!--begin::Social widget 2-->
                        <!--begin::Connected-->
                        <div class="card card-flush bg-body">
                            <!--begin::Card header-->
                            <div class="card-header">
                                <h4 class="card-title fw-bold text-text-gray-800 fs-2">Stay Connected</h4>
                            </div>
                            <!--end::Card header-->
                            <!--begin::Card body-->
                            <div class="card-body pt-2">
                                <!--begin::Items-->
                                <div class="mb-6">
                                    <!--begin::Link-->
                                    <a href="#" class="mb-6">
                                        <img src="/assetsCMS/media/svg/brand-logos/facebook-4.svg" class="h-20px me-2" alt="" />
                                        <span class="text-gray-700 text-hover-primary fs-5 mb-6">Facebook</span>
                                    </a>
                                    <!--end::Link-->
                                </div>
                                <!--begin::Items-->
                                <!--begin::Items-->
                                <div class="mb-6">
                                    <!--begin::Link-->
                                    <a href="#" class="mb-6">
                                        <img src="/assetsCMS/media/svg/brand-logos/github.svg" class="h-20px me-2" alt="" />
                                        <span class="text-gray-700 text-hover-primary fs-5 mb-6">Github</span>
                                    </a>
                                    <!--end::Link-->
                                </div>
                                <!--begin::Items-->
                                <!--begin::Items-->
                                <div class="mb-6">
                                    <!--begin::Link-->
                                    <a href="#" class="mb-6">
                                        <img src="/assetsCMS/media/svg/brand-logos/twitter.svg" class="h-20px me-2" alt="" />
                                        <span class="text-gray-700 text-hover-primary fs-5 mb-6">Twitter</span>
                                    </a>
                                    <!--end::Link-->
                                </div>
                                <!--begin::Items-->
                                <!--begin::Items-->
                                <div class="mb-6">
                                    <!--begin::Link-->
                                    <a href="#" class="mb-6">
                                        <img src="/assetsCMS/media/svg/brand-logos/dribbble-icon-1.svg" class="h-20px me-2" alt="" />
                                        <span class="text-gray-700 text-hover-primary fs-5 mb-6">Dribbble</span>
                                    </a>
                                    <!--end::Link-->
                                </div>
                                <!--begin::Items-->
                                <!--begin::Items-->
                                <div class="">
                                    <!--begin::Link-->
                                    <a href="#" class="mb-6">
                                        <img src="/assetsCMS/media/svg/brand-logos/instagram-2016.svg" class="h-20px me-2" alt="" />
                                        <span class="text-gray-700 text-hover-primary fs-5 mb-6">Instagram</span>
                                    </a>
                                    <!--end::Link-->
                                </div>
                                <!--begin::Items-->
                            </div>
                            <!--end::Card body-->
                        </div>
                        <!--end::Connected-->
                        <!--end::Social widget 2-->
                    </div>
                    <!--end::End sidebar-->
                </div>
                <!--end::Social - Feeds-->
            </div>
            <!--end::Content container-->
        </div>
        <!--end::Content-->
    </div>
    <!--end::Content wrapper-->
</div>

<!--begin::Modal - Create Post-->
<div class="modal fade" id="kt_modal_create_post" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered mw-650px">
        <div class="modal-content">
            <!--begin::Modal header-->
            <div class="modal-header pb-0 border-0 justify-content-center">
                <h2 class="fw-bold">Tạo bài viết</h2>
                <div class="btn btn-sm btn-icon btn-active-color-primary position-absolute end-0 top-0 mt-3 me-3" data-bs-dismiss="modal">
                    <i class="ki-duotone ki-cross fs-1">
                        <span class="path1"></span>
                        <span class="path2"></span>
                    </i>
                </div>
            </div>
            <!--end::Modal header-->
            <!--begin::Modal body-->
            <div class="modal-body scroll-y pt-3 pb-5">
                <!--begin::Form-->
                <form id="kt_modal_create_post_form" class="form">
                    <!--begin::User info-->
                    <div class="d-flex align-items-center mb-5">
                        <div class="symbol symbol-45px me-3">
                            <img class="user_avatar" alt="Avatar" src="" />
                        </div>
                        <div class="flex-grow-1">
                            <a href="#" class="text-gray-800 text-hover-primary fs-5 fw-bold user_name">Tên người dùng</a>
                            <div class="d-flex align-items-center gap-2 mt-1">
                                <!--begin::Feeling selector-->
                                <div class="dropdown" id="feeling_selector">
                                    <button class="btn btn-sm btn-light-primary btn-active-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                        <i class="ki-duotone ki-happy fs-3 me-1">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                        </i>
                                        <span id="selected_feeling_text">Cảm xúc</span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item feeling-option" href="#" data-feeling="vui vẻ" data-icon="😊">😊 Vui vẻ</a></li>
                                        <li><a class="dropdown-item feeling-option" href="#" data-feeling="hạnh phúc" data-icon="😄">😄 Hạnh phúc</a></li>
                                        <li><a class="dropdown-item feeling-option" href="#" data-feeling="thú vị" data-icon="🤩">🤩 Thú vị</a></li>
                                        <li><a class="dropdown-item feeling-option" href="#" data-feeling="buồn" data-icon="😢">😢 Buồn</a></li>
                                        <li><a class="dropdown-item feeling-option" href="#" data-feeling="tức giận" data-icon="😠">😠 Tức giận</a></li>
                                        <li><a class="dropdown-item feeling-option" href="#" data-feeling="yêu thương" data-icon="🥰">🥰 Yêu thương</a></li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li><a class="dropdown-item feeling-option" href="#" data-feeling="" data-icon="">❌ Xóa cảm xúc</a></li>
                                    </ul>
                                </div>
                                <!--end::Feeling selector-->
                            </div>
                        </div>
                    </div>
                    <!--end::User info-->

                    <!--begin::Input group - Content-->
                    <div class="mb-5">
                        <textarea class="form-control form-control-flush border-0 px-0" name="content" id="post_content" rows="5" placeholder="Bạn đang nghĩ gì?" style="resize: none; font-size: 1.1rem;"></textarea>
                        <input type="hidden" name="status" id="post_status" value="" />
                    </div>
                    <!--end::Input group-->

                    <!--begin::Image preview container-->
                    <div class="mb-5 d-none" id="image_preview_container">
                        <div class="card card-flush bg-light position-relative">
                            <div class="card-body p-4">
                                <button type="button" class="btn btn-sm btn-icon btn-active-color-primary position-absolute top-0 end-0 mt-2 me-2" id="close_image_preview">
                                    <i class="ki-duotone ki-cross fs-2">
                                        <span class="path1"></span>
                                        <span class="path2"></span>
                                    </i>
                                </button>
                                <div id="image_preview_grid" class="row g-2">
                                    <!-- Images will be displayed here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::Image preview container-->

                    <!--begin::Add to post-->
                    <div class="card card-flush bg-light mb-5">
                        <div class="card-body p-4">
                            <div class="d-flex align-items-center justify-content-between">
                                <span class="fw-bold text-gray-700">Thêm vào bài viết của bạn</span>
                                <div class="d-flex gap-2">
                                    <button type="button" class="btn btn-sm btn-icon btn-active-color-primary" id="btn_add_images" title="Ảnh/Video">
                                        <i class="ki-duotone ki-picture fs-2 text-success">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                        </i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-icon btn-active-color-primary" id="btn_tag_people" title="Gắn thẻ người khác">
                                        <i class="ki-duotone ki-profile-user fs-2 text-primary">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                            <span class="path3"></span>
                                            <span class="path4"></span>
                                        </i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-icon btn-active-color-primary" id="btn_add_location" title="Check in">
                                        <i class="ki-duotone ki-geolocation fs-2 text-danger">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                        </i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::Add to post-->

                    <!--begin::Hidden file input-->
                    <input type="file" id="post_images_input" name="images" multiple accept="image/*" class="d-none" />
                    <!--end::Hidden file input-->

                    <!--begin::Actions-->
                    <div class="d-grid">
                        <button type="submit" id="kt_modal_create_post_submit" class="btn btn-primary">
                            <span class="indicator-label">Đăng bài</span>
                            <span class="indicator-progress">Đang đăng...
                                <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                            </span>
                        </button>
                    </div>
                    <!--end::Actions-->
                </form>
                <!--end::Form-->
            </div>
            <!--end::Modal body-->
        </div>
    </div>
</div>
<!--end::Modal - Create Post-->

<!--begin::Modal - View Post Detail-->
<div class="modal fade" id="kt_modal_view_post" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable mw-800px">
        <div class="modal-content">
            <!--begin::Modal header-->
            <div class="modal-header pb-3 border-0">
                <h2 class="fw-bold">Bài viết</h2>
                <div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
                    <i class="ki-duotone ki-cross fs-1">
                        <span class="path1"></span>
                        <span class="path2"></span>
                    </i>
                </div>
            </div>
            <!--end::Modal header-->
            <!--begin::Modal body-->
            <div class="modal-body scroll-y px-0 pt-0 pb-5" id="post_detail_content">
                <!-- Content will be loaded dynamically -->
                <div class="text-center py-20">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Đang tải...</span>
                    </div>
                </div>
            </div>
            <!--end::Modal body-->
        </div>
    </div>
</div>
<!--end::Modal - View Post Detail-->

@section scripts {
    <script src="~/root/news/newsPortal.js"></script>
}